<tal:slideshowitems tal:define="items python: view.get_items()">
  <div class="carousel" id="slickcarousel"
    tal:attributes="class python: 'carousel empty' if not len(items) else 'carousel'"
    
    i18n:domain="collective.slickcarousel">
      <div class="carousel-wrapper">
        <div class="on-display-wrapper" tal:condition="python: view.checkObjectOnDisplay()" i18n:domain="plonetheme.zeeuwsmuseum" tal:on-error="nothing">
          <div i18n:translate="object_on_display" class="label_inner">Nu te zien</div>
        </div>
      <div class="slideshow-wrapper">
          <tal:slideshowitem tal:repeat="item items">
            <tal:normalslide tal:condition="python: item.get('type', '') != 'Link'">
              <div class="carousel-item" 
                tal:attributes="data-path python: item.get('path', '');
                                data-title python: item.get('title', '');
                                data-description python: item.get('description', '');
                                data-id python: item.get('id', '');
                                data-absoluteurl python: item.get('absoluteurl', '');
                                data-index repeat/item/index;">
                
                <div class="carousel-image-wrapper">
                  <img tal:attributes="src python: item.get('url', '#');" class="carousel-image"/>
                </div>
              </div>
            </tal:normalslide>

            <tal:videoslide tal:condition="python: item.get('type', '') == 'Link'">
              <div class="carousel-item video-slide" 
                tal:attributes="data-path python: item.get('path', '');
                                data-title python: item.get('title', '');
                                data-description python: item.get('description', '');
                                data-id python: item.get('id', '');
                                data-index repeat/item/index;">

                <tal:useoverlayimage tal:condition="python: item.get('link_image', None) != None">
                  <img src="" alt="" tal:attributes="src python: item.get('link_image', None); class python:'overlay-image';" />
                  <iframe frameborder="0" allowfullscreen tal:attributes="src python: item.get('url', ''); id python: item.get('id', '');" class="video-iframe with-overlay"></iframe>
                </tal:useoverlayimage>

                <tal:nooverlayimage tal:condition="python: item.get('link_image', None) == None">
                  <iframe frameborder="0" allowfullscreen tal:attributes="src python: item.get('url', ''); id python: item.get('id', '');" class="video-iframe without-overlay"></iframe>
                </tal:nooverlayimage>
              </div>
            </tal:videoslide>
          </tal:slideshowitem>
      </div>
        <tal:rendercontrols>
          <div id="slideshow-controls" class="container"
                tal:define="lead_image python: view.getLeadImageLink()">

                <div class="col-lg-9 col-md-9 col-sm-9 col-sx-12 count-description">
                  <p class="slide-description"><span id="slide-count"></span><span id="slide-description"></span></p>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 actions-div" tal:condition="python: context.portal_type == 'Object'">
                        <a type="button" class="btn btn-default info-btn"><i class="fa fa-info-circle"></i></a>
                        <a type="button" class="btn btn-default expand-btn"><i class="fa fa-compress"></i></a>
                        <a type="button" class="btn btn-default share-btn hidden-xs" data-toggle="popover" data-placement="top"><i class="fa fa-share-alt"></i></a>

                        <div id="share-title" style="display:none" i18n:translate="Share">
                          Deze pagina delen
                        </div>

                        <div id="share-settings" style="visibility: hidden;">
                          <div class="row facebook-row">
                            <a onclick="return !window.open(this.href, 'Facebook', 'width=500,height=500')" tal:attributes="href python: 'https://www.facebook.com/sharer/sharer.php?u=%s' %(context.absolute_url())">
                              <img class="share-button" alt="Delen op Facebook" src="++resource++plonetheme.zeeuwsmuseum/soc_fb_wBG.svg" style="max-width: 60px;">
                            </a>
                          </div>

                          <div class="row twitter-row">
                            <a onclick="return !window.open(this.href, 'Twitter', 'width=500,height=500')" tal:attributes="href python: 'http://twitter.com/share?text=%s&amp;url=%s' %(context.Title(), context.absolute_url())">
                                <img class="share-button" alt="Delen op Twitter" src="++resource++plonetheme.zeeuwsmuseum/share_button_twitter.svg" style="max-width: 60px;">
                            </a>
                          </div>

                          <div class="row pinterest-row">
                                  <a id="pinterest-btn" href="http://www.pinterest.com/pin/create/button/?url=" tal:attributes='href python: "http://www.pinterest.com/pin/create/button/?url=" + context.absolute_url() + "&media=" + lead_image + "&description=" + context.Title()+", Zeeuws Museum"; data-pin-description python: context.Title()' data-pin-do="buttonPin" data-pin-config="none"><img src="//assets.pinterest.com/images/pidgets/pinit_fg_en_rect_gray_20.png" tal:attributes='href python: "http://www.pinterest.com/pin/create/button/?url=" + context.absolute_url()'/>
                                  </a>
                          </div>
                        </div>
                </div>
          </div>
        </tal:rendercontrols>
      </div>
  </div>
</tal:slideshowitems>


